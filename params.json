{
  "name": "Citybash",
  "tagline": "A simple real-time strategy game with a sever-side engine.",
  "body": "# CityBash\r\nCityBash is simple [real time strategy\r\ngame](https://en.wikipedia.org/wiki/Real-time_strategy) written as a server to\r\nfacilitate the implementation and integration of AI players.\r\n\r\n1. [Overview](#overview)\r\n2. [Gameplay](#gameplay)\r\n3. [Game Mechanics](#game-mechanics)\r\n4. [Server Interface](#server-interface)\r\n5. [Running the Game Client](#running-the-game-client)\r\n6. [Running the Server](#running-the-server)\r\n7. [Implementation](#implementation)\r\n\r\n## Overview\r\nThe player controls _one_ city with assets and capabilities.\r\n\r\n- Assets\r\n  - Gold\r\n  - Army\r\n- Capabilities\r\n  - Upgrade city\r\n  - Increase army size\r\n  - Attack other cities\r\n\r\n## Gameplay\r\n- World layout\r\n  - Cities are placed at random in a 2D space such that distances between cities are variable.\r\n  - Among the cities that belong to players, the world _may_ also contains some randomly placed NPC cities.\r\n- Gold Usage\r\n  - Each city has a base income rate of gold at the start of the game.\r\n  - A player can spend gold to increase their:\r\n    * City level\r\n    * Military power\r\n- City Level\r\n  - The player's city starts at level 1.\r\n  - Higher level cities yield higher gold income, and have a larger defense multiplier.\r\n  - Level 5 is the highest.\r\n- Military\r\n  - The city houses a player's army. Take city A that has 20 soldiers.\r\n  - An attack happens in 3 steps. Let’s say city A orders 10 soldiers to attack on city B (the other 10 will remain defending the city).\r\n    1. Nothing happens for some time `T_ab`, proportional to the distance between cities A and B. The army is moving.\r\n    2. The 10 soliders of A's army attack the soliders that are currently in B's city. Both sides sustain losses. If the attackers succeed, they take some gold with them. Some of B's gold is safely hidden in it's _cache_. NOTE, gold is automatically stored in a city's cache.\r\n    3. After `T_ab` more time, the remaining soliders of the original 10 return to city A. If they are carrying gold from a successful attack, the gold is added to A’s hold.\r\n- Ending Conditions\r\n  - The game stops when either:\r\n    1. A player upgrades to a level 5 city\r\n    2. 20 minutes have passed\r\n  - Players are awarded points based on city level, gold, and army size, and then ranked by point-count.\r\n\r\n## Game Mechanics\r\n- Cities are placed at random on a 20x20 square world.\r\n- Armies\r\n  - See `simulations/battle_sim.py`\r\n  - Training a soldier costs 5 gold and takes 5 seconds. Soldiers can be trained asynchronously.\r\n  - Armies move 1 distance unit/sec\r\n\r\nCity Level | Income (gold/s) | Defense Multiplier | Upgrade Cost (gold) | Cache size (gold) |\r\n---------- | --------------- | ------------------ | ------------ | ---------- |\r\n1 | 1 | 1.2 | 30  | 5   |\r\n2 | 2 | 1.3 | 90  | 15  |\r\n3 | 3 | 1.4 | 270 | 45  |\r\n4 | 5 | 1.5 | 810 | 135 |\r\n\r\n- Note that as soon as a city becomes level 5, the game is over.\r\n\r\n## Server Interface\r\nThe game runs as a server. The administrator first gives each player a unique\r\nkey which the player uses to join the game with the following command:\r\n  - `[player key] join [city name]`\r\n\r\nOnce the game begins, players can send a selection of commands to list\r\ninformation about their city and the world, as well as commands to upgrade\r\ntheir city, train soldiers, and make attacks.\r\n\r\nThe valid player commands are (_not_ case sensitive):\r\n- `WORLD` or `W`\r\n- `CITY` or `C`\r\n- `SHORTCITY` or `SC`\r\n- `COSTS` or `CO`\r\n- `UPGRADE` or `U`\r\n- `TRAIN #` or `T #`\r\n  - `TRAIN max` uses all current gold to train soldiers\r\n- `ATTACK city #` or `A city #`\r\n\r\nThe server response is given below each respective player message.\r\n  - `[player key] WORLD`\r\n    - `[city name] ([city id]) [city level] [distance to city]`\r\n    - ... (newline delimited)\r\n  - `[player key] CITY`\r\n    - `LEVEL [current city level]`\r\n    - `GOLD [current gold amount]`\r\n    - `INCOME [current gold income]`\r\n    - `ARMY [# of soldiers in city]`\r\n    - `[list of notifcations]` of the form `* [#] sec ago: [contents]`, where `[contents]` is of the form:\r\n      - `[city name] attacked [#]/[#] took [#] gold, [#]/[#] defenders remained` These are for attacks on your city\r\n      - `Attacked [city name] [#]/[#] took [#] gold{, [#]/[#] defenders remained}` These are for attacks by your city on other cities. If you have at least 1 soldier remaining, the part of the message enclosed in `{}` is included\r\n  - `[player key] SHORTCITY`\r\n    - `LEVEL [#], GOLD [#], INCOME [#], ARMY [#]`\r\n  - `[player key] COSTS`\r\n    - `UPGRADE [gold to upgrade city] gold, [time to upgrade city] sec`\r\n    - `TRAIN [gold to train soldier] gold, [time to train soldier] sec`\r\n  - `[player key] UPGRADE`\r\n    - `UPGRADE SUCCESS` if current gold >= upgrade cost\r\n    - `UPGRADE FAILURE [gold needed] > [current gold]` otherwise\r\n  - `[player key] TRAIN [# soldiers]`\r\n    - `TRAIN [# soldiers] SUCCESS` if current gold >= cost of soldiers\r\n    - `INVALID TRAIN. VALID: [player key] TRAIN [# soldiers]` if wrong format or # soldiers is\r\n    not a positive integer\r\n    - `TRAIN FAILURE Cannot train 0 soldiers` corner case\r\n    - `TRAIN FAILURE [# soldiers] COSTS [gold needed] > [current gold]` otherwise\r\n  - `[player key] ATTACK [city-name] [# soldiers]`\r\n    - `INVALID ATTACK. VALID: [player key] ATTACK [other city name] [# soldiers]`\r\n       if syntax is invalid (not 4 tokens or # soldiers is not a positive integer)\r\n    - `ATTACK FAILURE Cannot attack with 0 soldiers`, or\r\n    - `ATTACK FAILURE Cannot attack your own city`, or\r\n    - `ATTACK FAILURE No city [city-name]`, or\r\n    - `ATTACK FAILURE [# soldiers] > [# soldiers in city]`, or\r\n    - `ATTACK SUCCESS [city-name] [# soldiers]`\r\n\r\nAfter the round-trip time for the attack, a notification is added to your city:\r\n    - `ATTACK {WIN, LOSE} [#]/[#] return with [#] gold, [city-name] remaining: [#]/[#]`\r\n       if none of the previous cases apply. If 0 soldiers return, the part of\r\n       the message including and after the `,` is ommitted.\r\n\r\nWhen the game is over, the server rejects player commands, and the\r\nadministrator can announce the results.\r\n\r\n## Running the Game Client\r\nThe shell script `run_client.sh` provides a simple game client that a player\r\ncan use to connect to the game server.\r\n\r\nNOTE: the script has a dependency on\r\n[`rlwrap`](https://github.com/hanslub42/rlwrap), a readline wrapper for user\r\ninput. It can easily be installed with `apt-get`. If you prefer not to use it,\r\nedit `run_client.sh` and remove it.\r\n\r\n## Running the Server\r\nIn order to build and run the server locally, you must first ensure you have the\r\ndependencies:\r\n- [clang++](http://clang.llvm.org/)\r\n- [libevent2](http://libevent.org/)\r\n\r\nThe following steps will get a server up and running:\r\n1. `make` creates the `citybash` binary - this is the server.\r\n2. `./citybash 123` starts the server with an admin key of `123` (you can use whatever you like)\r\n3. `cd clients/ && ./admin_client.sh` This will connect you to a the citybash server (which should running on localhost at port 12345). Send admin commands by prepending the admin key `123`.\r\n4. See `src/game_state.h` for valid admin commands.\r\n\r\n## Implementation\r\nThe engine is implemented in C++. We attempt to follow the\r\n[Google C++ Style Guide](https://google.github.io/styleguide/cppguide.html).\r\n\r\nSimulations of the game mechanics are in Python (see `simulations/`). A guiding\r\nphilosophy is that decisions should be \"data-informed\" rather than arbitrary.",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}